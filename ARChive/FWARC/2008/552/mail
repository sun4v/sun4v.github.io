From sacadmin Wed Aug 27 13:37:36 2008
Received: from sac.sfbay.sun.com (localhost [127.0.0.1])
	by sac.sfbay.sun.com (8.13.8+Sun/8.13.8) with ESMTP id m7RKbaPv024640;
	Wed, 27 Aug 2008 13:37:36 -0700 (PDT)
Received: (from ehring@localhost)
	by sac.sfbay.sun.com (8.13.8+Sun/8.13.8/Submit) id m7RKbaGa024636;
	Wed, 27 Aug 2008 13:37:36 -0700 (PDT)
Date: Wed, 27 Aug 2008 13:37:36 -0700 (PDT)
From: Stephen Ehring <ehring@sac.sfbay.sun.com>
Message-Id: <200808272037.m7RKbaGa024636@sac.sfbay.sun.com>
To: FWARC-record@sac.sfbay.sun.com
Subject: New Max Frame Size Property For NIU Hybrid IO [FWARC/2008/552 FastTrack timeout 09/03/2008]
Status: RO
Content-Length: 586


Template Version: @(#)sac_nextcase 1.66 04/17/08 SMI
This information is Copyright 2008 Sun Microsystems
1. Introduction
    1.1. Project/Component Working Name:
	 New Max Frame Size Property For NIU Hybrid IO
    1.2. Name of Document Author/Supplier:
	 Author:  Michael Speer
    1.3  Date of This Document:
	27 August, 2008
4. Technical Description
    See the case directory for more detail

6. Resources and Schedule
    6.4. Steering Committee requested information
   	6.4.1. Consolidation C-team Name:
		unknown
    6.5. ARC review type: FastTrack
    6.6. ARC Exposure: open


From sacadmin Wed Aug 27 13:41:01 2008
Received: from sunmail5.uk.sun.com (sunmail5.UK.Sun.COM [129.156.85.165])
	by sac.sfbay.sun.com (8.13.8+Sun/8.13.8) with ESMTP id m7RKf0NV025089
	for <fwarc@sac.sfbay.sun.com>; Wed, 27 Aug 2008 13:41:01 -0700 (PDT)
Received: from brm-avmta-1.central.sun.com (brm-avmta-1.Central.Sun.COM [129.147.4.11])
	by sunmail5.uk.sun.com (8.13.8+Sun/8.13.8/ENSMAIL,v2.2) with ESMTP id m7RKepdH003077
	for <@sunmail2sca.sfbay.sun.com:fwarc@sun.com>; Wed, 27 Aug 2008 21:41:00 +0100 (BST)
Received: from pmxchannel-daemon.brm-avmta-1.central.sun.com by
 brm-avmta-1.central.sun.com
 (Sun Java System Messaging Server 6.2-3.04 (built Jul 15 2005))
 id <0K6A003071GA5600@brm-avmta-1.central.sun.com> for fwarc@sun.com
 (ORCPT fwarc@sun.com); Wed, 27 Aug 2008 14:40:58 -0600 (MDT)
Received: from brmea-mail-3.sun.com ([192.18.98.34])
 by brm-avmta-1.central.sun.com
 (Sun Java System Messaging Server 6.2-3.04 (built Jul 15 2005))
 with ESMTP id <0K6A00D6B1G9KWD0@brm-avmta-1.central.sun.com> for fwarc@sun.com
 (ORCPT fwarc@sun.com); Wed, 27 Aug 2008 14:40:57 -0600 (MDT)
Received: from fe-amer-10.sun.com ([192.18.109.80])
	by brmea-mail-3.sun.com (8.13.6+Sun/8.12.9) with ESMTP id m7RKevIT005758	for
 <fwarc@sun.com>; Wed, 27 Aug 2008 20:40:57 +0000 (GMT)
Received: from conversion-daemon.mail-amer.sun.com by mail-amer.sun.com
 (Sun Java System Messaging Server 6.2-8.04 (built Feb 28 2007))
 id <0K6A009010YZK000@mail-amer.sun.com>
 (original mail from Stephen.Ehring@Sun.COM)
 for fwarc@sun.com (ORCPT fwarc@sun.com); Wed, 27 Aug 2008 14:40:57 -0600 (MDT)
Received: from dhcp-ubur03-184-18.East.Sun.COM ([129.148.184.18])
 by mail-amer.sun.com
 (Sun Java System Messaging Server 6.2-8.04 (built Feb 28 2007))
 with ESMTPSA id <0K6A00F9N1G7A990@mail-amer.sun.com> for fwarc@sun.com
 (ORCPT fwarc@sun.com); Wed, 27 Aug 2008 14:40:56 -0600 (MDT)
Date: Wed, 27 Aug 2008 16:40:55 -0400
From: Stephen Ehring <Stephen.Ehring@sun.com>
Subject: FWARC 2008/552 New Max Frame Size Property For NIU Hybrid IO
Sender: Stephen.Ehring@sun.com
To: Michael Speer <Michael.Speer@sun.com>, Firmware Arch <fwarc@sun.com>,
        Raghuram Kothakota <Raghuram.Kothakota@sun.com>,
        Sriharsha Basavapatna <Sriharsha.Basavapatna@sun.com>
Message-id: <48B5BBD7.8050605@sun.com>
MIME-version: 1.0
Content-type: text/plain; format=flowed; charset=ISO-8859-1
Content-transfer-encoding: 7BIT
X-PMX-Version: 5.4.1.325704
User-Agent: Thunderbird 2.0.0.16 (Macintosh/20080707)
Status: RO
Content-Length: 3843

I'm sponsoring this fast-track case for Michael Speer. The case defines 
a new device tree property 'max-frame-size' for the NIU port devices, 
and updates the binding accordingly.

The interface can be released in a micro/minor version of the firmware. 
The case is set to expire on 9/3/2008.

Steve

http://sac.eng.sun.com/Archives/CaseLog/arc/FWARC/2008/552/onepager.txt

Copyright 2008 Sun Microsystems

1. Introduction
   1.1. New Max Frame Size Property For NIU Hybrid IO

   1.2. Name of Document Author/Supplier: Michael Speer

   1.3. Date of This Document: 08/26/2008

   1.4. Email Aliases:
        1.5.2. Responsible Engineer: Michael.Speer@Sun.COM,
    1.5.3. Interest List: Raghuram.Kothakota@Sun.COM, 
Sriharsha.Basavapatna@Sun.COM

2. Project Summary
   2.1. Project Description:
        This project updates the NIU device tree binding to add a new
        property which will allow a guest domain hybyrid NIU (nxge) 
device to enable
        jumbo frame operation.

3. Technical Description:

    3.1. Details:

    3.1.1 Introduction:
        The hybrid mode nxge device can be dynamically assigned to a guest
        domain.  It consists of a Virtual Region and a set of RX and TX 
channels.
        It is plugged directly into the vnet device that is operating in the
        hybrid I/O mode. The traditional interfaces GLDv3 layer to 
configure,
        operate, and move data between the vnet and the hybrid nxge 
device are
        not utilized.  Instead, the interface in [1] is utilized.  To 
configure
        the hybrid NIU device properly for jumbo frames, it must be done at
        driver attach time. Additionally, when the hybrid NIU's device 
is created
        and graphted onto the Solaris device tree, the vnet's DDS[2] 
service knows
        whether to add to the device node the property to configure 
jummbo frame
        operation or not.
        
        3.1.2 Problem Statement:
        The nxge driver configures operational parameters such as jumbo 
frames
        today as a device property from the device's .conf file or via the
        Brussels m_setop/m_getop interface.  In the guest domain none of 
these
        interfaces are available to the guest domain Hybrid NIU (nxge) 
device
        driver.  Hence, a solution is needed to enable proper jumbo frame
        operation that does not require large changes and is portable to 
Solaris
        10 Update as well (some interfaces e.g. Brussels is not available in
        Solaris 10 Update).
        
        3.1.3 Proposal:
        In order to support jumbo frames in the guest domain via the 
Hybrid mode
        nxge device, the device needs the information about the 
maxframesize that
        is currently programmed in the MAC.  To provide this information 
to the
        hybrid mode nxge device node, we are proposing an optional 
property named
        max-frame-size that reflects the currently programmed value.  At 
the time
        the vnet's DDS creates the device node for nxge before it is 
attached
        in the guest domain, it will add this property to the device 
node.  Then,
        the driver will attach and configure properly.

    
    3.2. Interfaces:

    3.2.2 Exported Interfaces:

    Interface     Classification        Comment
    =====================================================================

    "max-frame-size" Uncommitted        Optional encoded integer
                                                property of the NIU device



5. Reference Documents:

        [1] PSARC 2008/247 and associated materials

        [2] FWARC 2008/246 and associated materials

        [3] Updated NIU Device Tree Bindings and Machine Description 
Definition

            niu-binding.txt

        [2] Initial N2 NIU binding case

            http://sac.eng/Archives/CaseLog/arc/FWARC/2006/556/materials/


From sacadmin Thu Sep  4 11:08:40 2008
Received: from sunmail4.singapore.sun.com (sunmail4.Singapore.Sun.COM [129.158.71.19])
	by sac.sfbay.sun.com (8.13.8+Sun/8.13.8) with ESMTP id m84I8dMd019207
	for <fwarc@sac.sfbay.Sun.COM>; Thu, 4 Sep 2008 11:08:40 -0700 (PDT)
Received: from nwk-avmta-1.SFBay.Sun.COM (nwk-avmta-1.SFBay.Sun.COM [129.146.11.74])
	by sunmail4.singapore.sun.com (8.13.4+Sun/8.13.3/ENSMAIL,v2.2) with ESMTP id m84I8Zt5013388
	for <@sunmail2sca.sfbay.sun.com:fwarc@sun.com>; Fri, 5 Sep 2008 02:08:36 +0800 (SGT)
Received: from pmxchannel-daemon.nwk-avmta-1.sfbay.Sun.COM by
 nwk-avmta-1.sfbay.Sun.COM
 (Sun Java System Messaging Server 6.2-3.04 (built Jul 15 2005))
 id <0K6O00F01NQB8H00@nwk-avmta-1.sfbay.Sun.COM> for fwarc@sun.com
 (ORCPT fwarc@sun.com); Thu, 04 Sep 2008 11:08:35 -0700 (PDT)
Received: from brmea-mail-4.sun.com ([192.18.98.36])
 by nwk-avmta-1.sfbay.Sun.COM
 (Sun Java System Messaging Server 6.2-3.04 (built Jul 15 2005))
 with ESMTP id <0K6O00ASRNQBOD40@nwk-avmta-1.sfbay.Sun.COM> for fwarc@sun.com
 (ORCPT fwarc@sun.com); Thu, 04 Sep 2008 11:08:35 -0700 (PDT)
Received: from fe-amer-10.sun.com ([192.18.109.80])
	by brmea-mail-4.sun.com (8.13.6+Sun/8.12.9) with ESMTP id m84I8Zdk026810	for
 <fwarc@sun.com>; Thu, 04 Sep 2008 18:08:35 +0000 (GMT)
Received: from conversion-daemon.mail-amer.sun.com by mail-amer.sun.com
 (Sun Java System Messaging Server 6.2-8.04 (built Feb 28 2007))
 id <0K6O00101LYX9T00@mail-amer.sun.com>
 (original mail from Stephen.Ehring@Sun.COM)
 for fwarc@sun.com (ORCPT fwarc@sun.com); Thu, 04 Sep 2008 12:08:35 -0600 (MDT)
Received: from dhcp-ubur03-184-19.East.Sun.COM ([129.148.184.19])
 by mail-amer.sun.com
 (Sun Java System Messaging Server 6.2-8.04 (built Feb 28 2007))
 with ESMTPSA id <0K6O0065RNQ3VPG0@mail-amer.sun.com> for fwarc@sun.com
 (ORCPT fwarc@sun.com); Thu, 04 Sep 2008 12:08:27 -0600 (MDT)
Date: Thu, 04 Sep 2008 14:08:26 -0400
From: Stephen Ehring <Stephen.Ehring@Sun.COM>
Subject: Re: FWARC 2008/552 New Max Frame Size Property For NIU Hybrid IO
In-reply-to: <48B5BBD7.8050605@sun.com>
Sender: Stephen.Ehring@Sun.COM
To: Michael Speer <Michael.Speer@Sun.COM>, Firmware Arch <fwarc@Sun.COM>,
        Raghuram Kothakota <Raghuram.Kothakota@Sun.COM>,
        Sriharsha Basavapatna <Sriharsha.Basavapatna@Sun.COM>
Message-id: <48C0241A.1070302@sun.com>
MIME-version: 1.0
Content-type: text/plain; format=flowed; charset=ISO-8859-1
Content-transfer-encoding: 7BIT
X-PMX-Version: 5.4.1.325704
References: <48B5BBD7.8050605@sun.com>
User-Agent: Thunderbird 2.0.0.16 (Macintosh/20080707)
Status: RO
Content-Length: 69

The timer on this case has expired, it is closed as approved.

Steve

From sacadmin Wed Oct  8 10:18:33 2008
Received: from sunmail5.uk.sun.com (sunmail5.UK.Sun.COM [129.156.85.165])
	by sac.sfbay.sun.com (8.13.8+Sun/8.13.8) with ESMTP id m98HIXXq019095
	for <fwarc@sac.sfbay.sun.com>; Wed, 8 Oct 2008 10:18:33 -0700 (PDT)
Received: from nwk-avmta-2.sfbay.sun.com (nwk-avmta-2.SFBay.Sun.COM [129.145.155.6])
	by sunmail5.uk.sun.com (8.13.8+Sun/8.13.8/ENSMAIL,v2.2) with ESMTP id m98HIRZT028294
	for <@sunmail2sca.sfbay.sun.com:fwarc@sun.com>; Wed, 8 Oct 2008 18:18:31 +0100 (BST)
Received: from pmxchannel-daemon.nwk-avmta-2.sfbay.sun.com by
 nwk-avmta-2.sfbay.sun.com
 (Sun Java System Messaging Server 6.2-3.04 (built Jul 15 2005))
 id <0K8F00701K2UHA00@nwk-avmta-2.sfbay.sun.com> for fwarc@sun.com
 (ORCPT fwarc@sun.com); Wed, 08 Oct 2008 10:18:30 -0700 (PDT)
Received: from brmea-mail-3.sun.com ([192.18.98.34])
 by nwk-avmta-2.sfbay.sun.com
 (Sun Java System Messaging Server 6.2-3.04 (built Jul 15 2005))
 with ESMTP id <0K8F006ODK2TDS20@nwk-avmta-2.sfbay.sun.com> for fwarc@sun.com
 (ORCPT fwarc@sun.com); Wed, 08 Oct 2008 10:18:29 -0700 (PDT)
Received: from fe-amer-10.sun.com ([192.18.109.80])
	by brmea-mail-3.sun.com (8.13.6+Sun/8.12.9) with ESMTP id m98HITXN016631	for
 <fwarc@sun.com>; Wed, 08 Oct 2008 17:18:29 +0000 (GMT)
Received: from conversion-daemon.mail-amer.sun.com by mail-amer.sun.com
 (Sun Java System Messaging Server 6.2-8.04 (built Feb 28 2007))
 id <0K8F00601JD0IT00@mail-amer.sun.com>
 (original mail from Stephen.Ehring@Sun.COM)
 for fwarc@sun.com (ORCPT fwarc@sun.com); Wed, 08 Oct 2008 11:18:29 -0600 (MDT)
Received: from dhcp-ubur03-184-93.East.Sun.COM ([129.148.184.93])
 by mail-amer.sun.com
 (Sun Java System Messaging Server 6.2-8.04 (built Feb 28 2007))
 with ESMTPSA id <0K8F00CH8K2R26C0@mail-amer.sun.com> for fwarc@sun.com
 (ORCPT fwarc@sun.com); Wed, 08 Oct 2008 11:18:28 -0600 (MDT)
Date: Wed, 08 Oct 2008 13:18:27 -0400
From: Stephen Ehring <Stephen.Ehring@sun.com>
Subject: FWARC 2008/552 New Max Frame Size Property For NIU Hybrid IO
Sender: Stephen.Ehring@sun.com
To: Firmware Arch <fwarc@sun.com>, Michael Speer <Michael.Speer@sun.com>,
        Raghuram Kothakota <Raghuram.Kothakota@sun.com>
Message-id: <48ECEB63.9030506@sun.com>
MIME-version: 1.0
Content-type: text/plain; format=flowed; charset=ISO-8859-1
Content-transfer-encoding: 7BIT
X-PMX-Version: 5.4.1.325704
User-Agent: Thunderbird 2.0.0.17 (Macintosh/20080914)
Status: RO
Content-Length: 163

I forgot to mention that OS release binding is minor/micro/patch for the 
interfaces in this case. This will document that in the mail file for 
this case.

Steve

